<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="css/ajax-store.css">
</head>
<body>

<!--***** page-wrapper *****-->
<div class="page-wrapper">

    <!--***** header container *****-->
    <header class="container col-5 d-flex justify-content-center align-items-center mt-3">
        <div class="row">
            <div class="column">
                <h1>My Tool Store</h1>
            </div>
        </div>
    </header>
    <!--***** end header container *****-->

    <!--***** table container *****-->
    <div class="container d-flex justify-content-center mt-3">
        <div class="row">
            <div class="col-12">
                <table id="products">
                    <thead>
                    <tr>
                        <th>Title</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Categories</th>
                    </tr>
                    </thead>
                    <tbody id="insertProducts">
                    <!--jquery written here-->
                    </tbody>
                </table>
                <div class="col-12 d-flex justify-content-center mt-3">
                    <button id="refreshBtn" type="button">Refresh</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
<script src="jquery/jquery-3.6.3.js"></script>
<script>
    (function () {
        "use strict";
        // TODO: Create an AJAX GET request for the file under data/inventory.json


        $.get('data/inventory.json').done(function (data) {
            console.log(data)
            let html = '';
            for (let i = 0; i < data.length; i += 1) {
                html += `<tr>
                        <th>${data[i].title}</th>
                        <td>${data[i].quantity}</td>
                        <td>$${(data[i].price).toFixed(2)}</td>
                        <td>${data[i].categories}</td>
                        </tr>`
            }

            $(`#insertProducts`).html(html);

        });


        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements

        $(`#refreshBtn`).on(`click`, function () {
            $.get('data/inventory.json').done(function (data) {
                console.log(data)
                let html = '';
                for (let i = 0; i < data.length; i += 1) {
                    html += `<tr>
                        <th>${data[i].title}</th>
                        <td>${data[i].quantity}</td>
                        <td>$${(data[i].price).toFixed(2)}</td>
                        <td>${data[i].categories}</td>
                        </tr>`
                }

                $(`#insertProducts`).html(html);

            });
        });

    })();
</script>

</body>
</html>
